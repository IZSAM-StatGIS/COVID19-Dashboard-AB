<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COVID-19 Dashboard Abruzzo</title>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar fixed-top navbar-expand-lg navbar-dark custom-shadow">
        <div class="navbar-brand">
            <img src="./src/img/IZSAM_white.png" alt="Logo IZS">
        </div>
        <button class="navbar-toggler" data-toggle="collapse" data-target="#collapse_target">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="collapse_target">
            <span class="navbar-text text-white">
                <h4>CoViD-19 Dashboard Abruzzo</h4>
                <small><a href="http://izs.it/IZS" target="_blank" class="text-white">
                    Centro di Referenza Nazionale per l'Epidemiologia, la Programmazione, l'Informazione e l'Analisi del Rischio</a>
                </small>
            </span>
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <button class="btn btn-link text-white" id="show-tools-btn" data-toggle="modal" data-target="#infoModal"><i class="fas fa-question-circle fa-lg"></i> Info</button>
                </li>
            </ul>
        </div>
    </nav>
    <!-- Close Navbar -->

    <!-- Main -->
    <!-- Map -->
    <div id="map" class="custom-shadow">
        <!-- Layer control -->
        <div class="ol-custom ol-unselectable ol-control">
            <button class="ol-zoom-in" type="button" title="Layer" id="layer-btn"><i class="fas fa-layer-group"></i></button>
        </div>
        <div class="ol-custom-panel ol-unselectable ol-control" id="layer-panel">
            <ul class="layer-list">
                <li>
                    <div class="custom-control custom-switch">
                        <input type="checkbox" class="custom-control-input" id="prov-pt-toggler" name="layer-chk" checked>
                        <label class="custom-control-label" for="prov-pt-toggler">Cluster Province</label>
                    </div>
                </li>
                <li>
                    <div class="custom-control custom-switch">
                        <input type="checkbox" class="custom-control-input" id="com-pl-toggler" name="layer-chk" checked>
                        <label class="custom-control-label" for="com-pl-toggler">Comuni per 100k abitanti</label>
                    </div>
                </li>
                <li>
                    <div class="custom-control custom-switch">
                        <input type="checkbox" class="custom-control-input" id="prov-pl-toggler" name="layer-chk" checked>
                        <label class="custom-control-label" for="prov-pl-toggler">Province</label>
                    </div>
                </li>
            </ul>
            <br class="legend-br"/>
            <div id="legend-container"></div>
            <div id="legend-text">Num. contagi crescente <i class="fas fa-arrow-right"></i></div>
        </div>
        <!-- Popup -->
        <div id="popup" class="ol-popup">
            <div id="popup-content"></div>
        </div>
    </div>
    <div id="sidebar" class="p-0">
        
        <div id="widget-one" class="card bg-info-dark text-white custom-shadow">
            <!-- div class="card-header"><i class="fab fa-elementor fa-lg fa-fw"></i> Widget Box 1</div -->
            <div class="card-body" style="font-size:26px;">
                <i class="fas fa-calendar-alt fa-lg"></i> Aggiornamento: <span id="aggiornamento">...</span>
            </div>
        </div>

        <div id="widget-two" class="card bg-dark text-white custom-shadow">
            <div class="card-body">
                <div class="row">
                    <div class="col-12">
                        <!-- Tab navs -->
                        <ul class="nav nav-tabs">
                            <li class="nav-item">
                                <a class="nav-link active" href="#andamento-chart-tab" data-toggle="tab">
                                    <i class="fas fa-chart-line"></i> Andamento giornaliero
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#casi-chart-tab" data-toggle="tab">
                                    <i class="fas fa-chart-line"></i> Casi per 100K abitanti 
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#hospitals-chart-tab" data-toggle="tab" id="hosp-tab">
                                    <i class="fas fa-chart-pie"></i> Ospedalizzazione 
                                </a>
                            </li>
                        </ul>
                        <!-- Tab panes -->
                        <div class="tab-content">
                            <div class="tab-pane active" id="andamento-chart-tab" role="tabpanel">
                                <div class="card bg-primary bg-dark text-white mb-3 custom-shadow">
                                    <div class="card-body chart-grid">
                                        <div>
                                            <canvas id="grafico-andamento-nazionale"></canvas>
                                        </div>
                                        <div>
                                            <canvas id="grafico-andamento-abruzzo"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane" id="casi-chart-tab" role="tabpanel">
                                <div class="card bg-primary bg-dark text-white mb-3 custom-shadow">
                                    <div class="card-body chart-grid">
                                        <div>
                                            <canvas id="grafico-casi-nazionale"></canvas>
                                        </div>
                                        <div>
                                            <canvas id="grafico-casi-abruzzo"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane" id="hospitals-chart-tab" role="tabpanel">
                                <div class="card bg-primary bg-dark text-white mb-3 custom-shadow">
                                    <div class="card-body chart-grid-quad">
                                        <div class="pie-legend d-flex d-flex-rows justify-content-center">
                                            <div style="height: 20px; width: 20px; background-color: #4285F4;"></div>&nbsp;
                                            <div>Isolamento domiciliare</div>&nbsp; - &nbsp;
                                            <div style="height: 20px; width: 20px; background-color: #FF8800;"></div>&nbsp;
                                            <div>Ricoverati con sintomi</div>&nbsp; - &nbsp;
                                            <div style="height: 20px; width: 20px; background-color: #b71c1c;"></div>&nbsp;
                                            <div>Terapia intensiva</div>
                                        </div>
                                        <div class="pie-chart1">
                                            <canvas id="grafico-hosp-abruzzo"></canvas>
                                        </div>
                                        <div class="pie-chart2">
                                            <canvas id="grafico-hosp-emilia"></canvas>
                                        </div>
                                        <div class="pie-chart3">
                                            <canvas id="grafico-hosp-veneto"></canvas>
                                        </div>
                                        <div class="pie-chart4">
                                            <canvas id="grafico-hosp-lombardia"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <!-- Close Main -->

    <!-- Info Modal -->
    <div class="modal fade" id="infoModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header bg-dark text-white">
                    <h5 class="modal-title">Informazioni su questa applicazione</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body bg-dark text-white">
                    <i class="fas fa-database"></i> I dati visibili in questa applicazione sono ottenuti attraverso un 
                    <a href="https://github.com/alessiodl/COVID19Feed2Json" target="_blank" class="text-warning">servizio web</a> basato sulla
                    lettura in tempo reale delle informazioni messe a disposizione dal <a href="http://www.protezionecivile.gov.it/" class="text-warning" target="_blank">
                    Sito del Dipartimento della Protezione Civile - Presidenza del Consiglio dei Ministri</a>. Ogni giorno, alle 18:30, viene pubblicato e condiviso su
                    un <a href="https://github.com/pcm-dpc/COVID-19" target="_blank" class="text-warning">repository dedicato</a> il resoconto aggiornato della situazione nazionale.
                    
                    <br/><br/>

                    <p class="alert alert-warning-dark">
                        I dati sui <strong>Comuni</strong> sono raccolti da fonti <strong>non ufficiali</strong> e vengono aggiornati quando è possibile e soltanto dopo aver confrontato le diverse fonti a disposizione
                    </p>

                    <div class="text-center">
                        <p><a class="text-info" target="_blank" href="https://izs.it">Istituto Zooprofilattico Sperimentale dell'Abruzzo e del Molise "G. Caporale"</a></p>
                        <img src="./src/img/IZSAM_white.png"/>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer 
    <div id="footer" class="navbar fixed-bottom navbar-expand-lg navbar-dark custom-shadow">
        <div class="navbar-brand">
            <small><i class="far fa-copyright fa-lg fa-fw"></i> 
                Fonte: <a href="http://www.protezionecivile.gov.it/" target="_blank" class="text-warning">Sito del Dipartimento della Protezione Civile - Presidenza del Consiglio dei Ministri</a>
            </small>
        </div>
    </div> -->
    <!-- Close Footer -->

    <script src="./src/app.js"></script>
</body>
</html>